<idea-plugin version="2">
  <name>FitNesse</name>
  <description><![CDATA[@description@]]></description>
  <version>@version@</version>
  <vendor>George Shakhnazaryan, Arjan Molenaar</vendor>
  <change-notes>
    <![CDATA[<pre>
1.2.0

 * Reformat Code works for wiki pages (Ctrl-Alt-L/Cmd-Option-L)
 * Better formatting for tables during test execution
 * Library classes are referenced like fixture classes

1.1.1

 * Fix issue in QuickFix for class and method creation

1.1.0

 * Quick fixes (Alt-Enter) for fixture and fixture method creation

1.0.4

 * Fixes in parser (IDEA 15 compatible)
 * Editor tabs show page name

1.0.3

 * Auto completion for fixture classes and scenario's
 * Comment lines in script and scenario tables

1.0.2

 * Our build script needed some tweaks in order to render the run configuration dialog well

1.0.1

 * Fix issue where test execution could fail due to a NPE in the FitNesse plugin

1.0

 * Syntax highlighting
 * Links to sibling wiki pages
 * Supports Slim Decision, Query, Script, Scenario and Table tables
 * Syntax checking: warning for missing references
 * Execution of test suites, with readable console output
 * Folding of collapsible sections
 * Create wiki page action

</pre>]]>
  </change-notes>

  <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Build+Number+Ranges for description -->
  <idea-version since-build="131"/>

  <application-components>
    <!-- Add your application components here -->
  </application-components>

  <project-components>
  </project-components>

  <module-components>
  </module-components>

  <actions>
    <action id="NewFitnesseFile" class="fitnesse.idea.lang.filetype.CreateFitnesseFileAction">
      <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewXml"/>
    </action>

  </actions>

  <extensions defaultExtensionNs="com.intellij">

    <treeStructureProvider implementation="fitnesse.idea.lang.filetype.FitnesseTreeStructureProvider"/>
    <editorTabTitleProvider implementation="fitnesse.idea.lang.FitnesseEditorTabTitleProvider"/>

    <!--<projectStructure.sourceRootEditHandler implementation="fitnesse.idea.run.FitNesseRootEditHandler"/>-->

    <fileTypeFactory implementation="fitnesse.idea.lang.filetype.FitnesseFileTypeFactory"/>

    <lang.syntaxHighlighterFactory key="Fitnesse" implementationClass="fitnesse.idea.lang.highlighting.FitnesseSyntaxHighlighterFactory"/>

    <colorSettingsPage implementation="fitnesse.idea.lang.highlighting.FitnesseColorSettingsPage"/>
    <lang.parserDefinition language="Fitnesse" implementationClass="fitnesse.idea.lang.parser.FitnesseParserDefinition"/>

    <lang.elementManipulator forClass="fitnesse.idea.wikilink.WikiLink"
                             implementationClass="fitnesse.idea.wikilink.WikiLinkManipulator"/>
    <lang.elementManipulator forClass="fitnesse.idea.fixtureclass.FixtureClass"
                             implementationClass="fitnesse.idea.fixtureclass.FixtureClassManipulator"/>

    <lang.elementManipulator forClass="fitnesse.idea.decisiontable.DecisionInput"
                             implementationClass="fitnesse.idea.decisiontable.DecisionInputManipulator"/>
    <lang.elementManipulator forClass="fitnesse.idea.decisiontable.DecisionOutput"
                               implementationClass="fitnesse.idea.decisiontable.DecisionOutputManipulator"/>

    <lang.elementManipulator forClass="fitnesse.idea.querytable.QueryOutput"
                             implementationClass="fitnesse.idea.querytable.QueryOutputManipulator"/>

    <lang.elementManipulator forClass="fitnesse.idea.scripttable.ScriptRow"
                             implementationClass="fitnesse.idea.scripttable.ScriptRowManipulator"/>

    <lang.foldingBuilder language="Fitnesse"
                         implementationClass="fitnesse.idea.lang.highlighting.FitnesseFoldingBuilder"/>
    <lang.formatter language="Fitnesse"
                    implementationClass="fitnesse.idea.lang.formatter.FitnesseFormattingModelBuilder"/>

    <lang.commenter language="Fitnesse" implementationClass="fitnesse.idea.lang.highlighting.FitnesseCommenter"/>

    <gotoFileContributor implementation="fitnesse.idea.navigation.FitnesseFileNameContributor"/>

    <annotator language="Fitnesse" implementationClass="fitnesse.idea.lang.psi.MissingReferencesAnnotator"/>

    <usageTypeProvider implementation="fitnesse.idea.lang.psi.FitNesseUsageTypeProvider" />

    <stubElementTypeHolder class="fitnesse.idea.lang.parser.FitnesseElementType"/>

    <stubIndex implementation="fitnesse.idea.fixtureclass.FixtureClassIndex"/>
    <stubIndex implementation="fitnesse.idea.fixturemethod.FixtureMethodIndex"/>
    <stubIndex implementation="fitnesse.idea.scripttable.ScenarioNameIndex"/>

    <implicitUsageProvider implementation="fitnesse.idea.FitnesseImplicitUsageProvider"/>


    <!-- TODO: Need something like code inspections-->
    <!--

     * Allows to disable highlighting of certain elements as unused when such elements are not referenced
     * from the code but are referenced in some other way (for example, from generated code).

    <localInspection language="JAVA" shortName="CucumberJavaStepDefClassIsPublic" displayName="Step definition class is not public"
                     groupBundle="org.jetbrains.plugins.cucumber.java.CucumberJavaBundle" groupKey="cucumber.java.inspection.group.name" enabledByDefault="true"
                     level="WARNING" implementationClass="org.jetbrains.plugins.cucumber.java.inspections.CucumberJavaStepDefClassIsPublicInspections"/>
    -->

    <referencesSearch implementation="fitnesse.idea.fixtureclass.FixtureClassReferencesSearch"/>
    <methodReferencesSearch implementation="fitnesse.idea.fixturemethod.FixtureMethodReferencesSearch"/>

    <codeInsight.lineMarkerProvider language="JAVA" implementationClass="fitnesse.idea.fixtureclass.FitNesseLineMarkerProvider"/>

    <!-- Execution -->
    <runConfigurationProducer implementation="fitnesse.idea.run.FitNesseTestRunConfigurationProducer"/>
    <configurationType implementation="fitnesse.idea.run.FitnesseRunConfigurationType"/>
    <testSrcLocator implementation="fitnesse.idea.run.FitnesseTestLocationProvider"/>

  </extensions>
</idea-plugin>
